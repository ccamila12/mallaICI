<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Malla Curricular Interactiva Simplificada</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #fff5fc;
    margin: 2rem;
  }
  h1 {
    color: #d03d7f;
    text-align: center;
    margin-bottom: 1.5rem;
  }
  table {
    border-collapse: collapse;
  }
  td.nivel {
    width: 50px;
    text-align: left;
    font-weight: 600;
    color: #a0537d;
    vertical-align: top;
    user-select: none;
    padding-right: 1rem;
  }
  td.ramo {
    padding: 0.4rem 0.6rem;
    margin-bottom: 0.4rem;
    border-radius: 4px;
    cursor: pointer;
    user-select: none;
    color: #4a2e47;
    white-space: normal; /* permite salto de línea */
    width: 160px;         /* ancho fijo igual */
    box-sizing: border-box;
    text-align: center;
    vertical-align: top;
  }
  td.ramo.FB { background-color: #f8c6d8; }
  td.ramo.FD { background-color: #e3b7e7; }
  td.ramo.FF { background-color: #d49dde; }
  td.ramo.FC { background-color: #d1c1d8; }
  td.ramo.MI { background-color: #bfa5c9; }
  td.ramo.DC { background-color: #c1b3d7; }
  td.ramo.EE { background-color: #d2addd; }

  td.ramo.tachado {
    text-decoration: line-through;
    background-color: rgba(208, 61, 127, 0.3) !important;
    color: #7a4a6e !important;
  }

  td.ramo.bloqueado {
    background-color: #ccc !important;
    color: #777 !important;
    pointer-events: none;
    user-select: none;
  }

  td.ramo:hover:not(.bloqueado):not(.tachado) {
    background-color: #f0d5e6;
  }
</style>
</head>
<body>

<h1>Malla Curricular Interactiva</h1>

<table id="malla">
  <tbody>
    <!-- Nivel 1 -->
    <tr>
      <td class="nivel">1</td>
      <td class="ramo FB" data-nombre="CALCULO I" data-prerrequisito="">CALCULO I</td>
      <td class="ramo FB" data-nombre="ALGEBRA" data-prerrequisito="">ALGEBRA</td>
      <td class="ramo FB" data-nombre="QUIMICA GENERAL Y ORGANICA" data-prerrequisito="">QUIMICA GENERAL Y ORGANICA</td>
      <td class="ramo FD" data-nombre="LA INGENIERIA INDUSTRIAL" data-prerrequisito="">LA INGENIERIA INDUSTRIAL</td>
      <td class="ramo FF" data-nombre="COMUNICACION ORAL Y ESCRITA I" data-prerrequisito="">COMUNICACION ORAL Y ESCRITA I</td>
      <td class="ramo FF" data-nombre="IDIOMA EXTRANJERO I" data-prerrequisito="">IDIOMA EXTRANJERO I</td>
    </tr>

    <!-- Nivel 2 -->
    <tr>
      <td class="nivel">2</td>
      <td class="ramo FB" data-nombre="CALCULO II" data-prerrequisito="CALCULO I">CALCULO II</td>
      <td class="ramo FB" data-nombre="ALGEBRA LINEAL" data-prerrequisito="ALGEBRA">ALGEBRA LINEAL</td>
      <td class="ramo FD" data-nombre="SOLUCION ALGORITMICA DE PROBLEMAS" data-prerrequisito="">SOLUCION ALGORITMICA DE PROBLEMAS</td>
      <td class="ramo FD" data-nombre="FUNDAMENTOS DE ADMINISTRACION" data-prerrequisito="LA INGENIERIA INDUSTRIAL">FUNDAMENTOS DE ADMINISTRACION</td>
      <td class="ramo FF" data-nombre="COMUNICACION ORAL Y ESCRITA II" data-prerrequisito="COMUNICACION ORAL Y ESCRITA I">COMUNICACION ORAL Y ESCRITA II</td>
      <td class="ramo FF" data-nombre="IDIOMA EXTRANJERO II" data-prerrequisito="IDIOMA EXTRANJERO I">IDIOMA EXTRANJERO II</td>
      <td class="ramo FC" data-nombre="DEPORTE I" data-prerrequisito="">DEPORTE I</td>
    </tr>

    <!-- Nivel 3 -->
    <tr>
      <td class="nivel">3</td>
      <td class="ramo FB" data-nombre="CALCULO III" data-prerrequisito="CALCULO II">CALCULO III</td>
      <td class="ramo FB" data-nombre="FISICA GENERAL" data-prerrequisito="CALCULO I">FISICA GENERAL</td>
      <td class="ramo FD" data-nombre="PROGRAMACION PARA INGENIERIA" data-prerrequisito="SOLUCION ALGORITMICA DE PROBLEMAS">PROGRAMACION PARA INGENIERIA</td>
      <td class="ramo FB" data-nombre="ECUACIONES DIFERENCIALES" data-prerrequisito="ALGEBRA LINEAL,CALCULO II">ECUACIONES DIFERENCIALES</td>
      <td class="ramo FF" data-nombre="AUTOGESTION DEL APRENDIZAJE" data-prerrequisito="">AUTOGESTION DEL APRENDIZAJE</td>
      <td class="ramo FF" data-nombre="IDIOMA EXTRANJERO III" data-prerrequisito="IDIOMA EXTRANJERO II">IDIOMA EXTRANJERO III</td>
    </tr>

    <!-- Nivel 4 -->
    <tr>
      <td class="nivel">4</td>
      <td class="ramo FB" data-nombre="FUNDAMENTOS DE FLUIDOS Y TERMODINAMICA" data-prerrequisito="FISICA GENERAL,CALCULO II">FUNDAMENTOS DE FLUIDOS Y TERMODINAMICA</td>
      <td class="ramo FD" data-nombre="TALLER DE ANALISIS NUMERICO" data-prerrequisito="PROGRAMACION PARA INGENIERIA,CALCULO III">TALLER DE ANALISIS NUMERICO</td>
      <td class="ramo FD" data-nombre="SISTEMAS DE OPERACIONES" data-prerrequisito="FUNDAMENTOS DE ADMINISTRACION,LA INGENIERIA INDUSTRIAL">SISTEMAS DE OPERACIONES</td>
      <td class="ramo FB" data-nombre="PROBABILIDADES Y ESTADISTICA" data-prerrequisito="ALGEBRA LINEAL,CALCULO II">PROBABILIDADES Y ESTADISTICA</td>
      <td class="ramo FF" data-nombre="TRABAJO EN EQUIPO Y DESARROLLO DE HABILIDADES SOCIALES" data-prerrequisito="AUTOGESTION DEL APRENDIZAJE">TRABAJO EN EQUIPO Y DESARROLLO DE HABILIDADES SOCIALES</td>
      <td class="ramo FF" data-nombre="IDIOMA EXTRANJERO IV" data-prerrequisito="IDIOMA EXTRANJERO III">IDIOMA EXTRANJERO IV</td>
      <td class="ramo FC" data-nombre="DEPORTE II" data-prerrequisito="">DEPORTE II</td>
    </tr>

    <!-- Nivel 5 -->
    <tr>
      <td class="nivel">5</td>
      <td class="ramo FB" data-nombre="ELECTRICIDAD Y MAGNETISMO" data-prerrequisito="FISICA GENERAL,CALCULO II">ELECTRICIDAD Y MAGNETISMO</td>
      <td class="ramo FD" data-nombre="MODELOS DE INVESTIGACION DE OPERACIONES" data-prerrequisito="PROBABILIDADES Y ESTADISTICA,TALLER DE ANALISIS NUMERICO">MODELOS DE INVESTIGACION DE OPERACIONES</td>
      <td class="ramo FD" data-nombre="ESTADISTICA INDUSTRIAL" data-prerrequisito="PROBABILIDADES Y ESTADISTICA">ESTADISTICA INDUSTRIAL</td>
      <td class="ramo FD" data-nombre="GESTION DE RECURSOS HUMANOS" data-prerrequisito="FUNDAMENTOS DE ADMINISTRACION">GESTION DE RECURSOS HUMANOS</td>
      <td class="ramo FF" data-nombre="COMPRENSION DE CONTEXTOS SOCIALES" data-prerrequisito="COMUNICACION ORAL Y ESCRITA II">COMPRENSION DE CONTEXTOS SOCIALES</td>
      <td class="ramo FF" data-nombre="IDIOMA EXTRANJERO V" data-prerrequisito="IDIOMA EXTRANJERO IV">IDIOMA EXTRANJERO V</td>
    </tr>

    <!-- Nivel 6 -->
    <tr>
      <td class="nivel">6</td>
      <td class="ramo FD" data-nombre="ANALISIS ECONOMICO" data-prerrequisito="FUNDAMENTOS DE ADMINISTRACION,CALCULO II">ANALISIS ECONOMICO</td>
      <td class="ramo FD" data-nombre="PROGRAMACION MATEMATICA" data-prerrequisito="MODELOS DE INVESTIGACION DE OPERACIONES">PROGRAMACION MATEMATICA</td>
      <td class="ramo FD" data-nombre="MODELOS ESTOCASTICOS Y SIMULACION" data-prerrequisito="ESTADISTICA INDUSTRIAL,MODELOS DE INVESTIGACION DE OPERACIONES">MODELOS ESTOCASTICOS Y SIMULACION</td>
      <td class="ramo FD" data-nombre="FUNDAMENTOS DE INGENIERIA DE PROCESOS" data-prerrequisito="FUNDAMENTOS DE FLUIDOS Y TERMODINAMICA,QUIMICA GENERAL Y ORGANICA">FUNDAMENTOS DE INGENIERIA DE PROCESOS</td>
      <td class="ramo FF" data-nombre="COMPRENSION DE CONTEXTOS CULTURALES" data-prerrequisito="COMPRENSION DE CONTEXTOS SOCIALES">COMPRENSION DE CONTEXTOS CULTURALES</td>
      <td class="ramo FF" data-nombre="IDIOMA EXTRANJERO VI" data-prerrequisito="IDIOMA EXTRANJERO V">IDIOMA EXTRANJERO VI</td>
    </tr>

    <!-- Nivel 7 -->
    <tr>
      <td class="nivel">7</td>
      <td class="ramo FD" data-nombre="INGENIERIA ECONOMICA Y EVALUACION DE PROYECTOS" data-prerrequisito="ANALISIS ECONOMICO,FUNDAMENTOS DE ADMINISTRACION">INGENIERIA ECONOMICA Y EVALUACION DE PROYECTOS</td>
      <td class="ramo FD" data-nombre="MARKETING TACTICO Y OPERATIVO" data-prerrequisito="ANALISIS ECONOMICO">MARKETING TACTICO Y OPERATIVO</td>
      <td class="ramo FD" data-nombre="DISEÑO DE SISTEMAS DE OPERACIONES" data-prerrequisito="MODELOS ESTOCASTICOS Y SIMULACION,PROGRAMACION MATEMATICA,SISTEMAS DE OPERACIONES">DISEÑO DE SISTEMAS DE OPERACIONES</td>
      <td class="ramo FD" data-nombre="TECNOLOGIAS DE INFORMACION" data-prerrequisito="SISTEMAS DE OPERACIONES,PROGRAMACION PARA INGENIERIA">TECNOLOGIAS DE INFORMACION</td>
      <td class="ramo FD" data-nombre="PROCESOS Y EQUIPOS INDUSTRIALES I" data-prerrequisito="FUNDAMENTOS DE INGENIERIA DE PROCESOS">PROCESOS Y EQUIPOS INDUSTRIALES I</td>
      <td class="ramo FF" data-nombre="ETICA Y RESPONSABILIDAD SOCIAL" data-prerrequisito="COMPRENSION DE CONTEXTOS CULTURALES,TRABAJO EN EQUIPO Y DESARROLLO DE HABILIDADES SOCIALES">ETICA Y RESPONSABILIDAD SOCIAL</td>
    </tr>

    <!-- Nivel 8 -->
    <tr>
      <td class="nivel">8</td>
      <td class="ramo FD" data-nombre="INGENIERIA FINANCIERA" data-prerrequisito="ANALISIS ECONOMICO">INGENIERIA FINANCIERA</td>
      <td class="ramo FD" data-nombre="GESTION DE PROYECTOS" data-prerrequisito="DISEÑO DE SISTEMAS DE OPERACIONES,INGENIERIA ECONOMICA Y EVALUACION DE PROYECTOS,GESTION DE RECURSOS HUMANOS">GESTION DE PROYECTOS</td>
      <td class="ramo FD" data-nombre="PLANIFICACION Y GESTION DE LAS OPERACIONES" data-prerrequisito="DISEÑO DE SISTEMAS DE OPERACIONES">PLANIFICACION Y GESTION DE LAS OPERACIONES</td>
      <td class="ramo FD" data-nombre="PROCESOS Y EQUIPOS INDUSTRIALES II" data-prerrequisito="PROCESOS Y EQUIPOS INDUSTRIALES I,ELECTRICIDAD Y MAGNETISMO">PROCESOS Y EQUIPOS INDUSTRIALES II</td>
      <td class="ramo MI" data-nombre="PROYECTO DE LICENCIATURA" data-prerrequisito="ETICA Y RESPONSABILIDAD SOCIAL,PROCESOS Y EQUIPOS INDUSTRIALES I,TECNOLOGIAS DE INFORMACION,DISEÑO DE SISTEMAS DE OPERACIONES,MARKETING TACTICO Y OPERATIVO,INGENIERIA ECONOMICA Y EVALUACION DE PROYECTOS">PROYECTO DE LICENCIATURA</td>
      <td class="ramo FF" data-nombre="RESPONSABILIDAD SOCIAL" data-prerrequisito="ETICA Y RESPONSABILIDAD SOCIAL">RESPONSABILIDAD SOCIAL</td>
    </tr>

    <!-- Nivel 9 -->
    <tr>
      <td class="nivel">9</td>
      <td class="ramo FD" data-nombre="DISEÑO DE SISTEMAS DE COSTEO" data-prerrequisito="INGENIERIA FINANCIERA">DISEÑO DE SISTEMAS DE COSTEO</td>
      <td class="ramo MI" data-nombre="PROYECTO DE DISEÑO DE SISTEMAS DE OPERACIONES" data-prerrequisito="GESTION DE PROYECTOS,TECNOLOGIAS DE INFORMACION,DISEÑO DE SISTEMAS DE OPERACIONES,INGENIERIA ECONOMICA Y EVALUACION DE PROYECTOS">PROYECTO DE DISEÑO DE SISTEMAS DE OPERACIONES</td>
      <td class="ramo FD" data-nombre="GESTION DE LA CADENA DE ABASTECIMIENTO" data-prerrequisito="PLANIFICACION Y GESTION DE LAS OPERACIONES">GESTION DE LA CADENA DE ABASTECIMIENTO</td>
      <td class="ramo FD" data-nombre="GESTION DE LA INNOVACION Y EMPRENDIMIENTO" data-prerrequisito="MARKETING TACTICO Y OPERATIVO,INGENIERIA ECONOMICA Y EVALUACION DE PROYECTOS">GESTION DE LA INNOVACION Y EMPRENDIMIENTO</td>
      <td class="ramo FD" data-nombre="GESTION AMBIENTAL Y ENERGETICA" data-prerrequisito="PROCESOS Y EQUIPOS INDUSTRIALES II">GESTION AMBIENTAL Y ENERGETICA</td>
      <td class="ramo EE" data-nombre="ELECTIVO I" data-prerrequisito="">ELECTIVO I</td>
    </tr>

    <!-- Nivel 10 -->
    <tr>
      <td class="nivel">10</td>
      <td class="ramo FD" data-nombre="ESTRATEGIA Y CONTROL DE GESTION" data-prerrequisito="INGENIERIA FINANCIERA">ESTRATEGIA Y CONTROL DE GESTION</td>
      <td class="ramo MI" data-nombre="PROYECTO DE DISEÑO DE SISTEMAS DE PLANIFICACION DE OPERACIONES" data-prerrequisito="PLANIFICACION Y GESTION DE LAS OPERACIONES,TECNOLOGIAS DE INFORMACION">PROYECTO DE DISEÑO DE SISTEMAS DE PLANIFICACION DE OPERACIONES</td>
      <td class="ramo MI" data-nombre="PROYECTO DE APLICACION TECNOLOGICA" data-prerrequisito="GESTION AMBIENTAL Y ENERGETICA,PROCESOS Y EQUIPOS INDUSTRIALES II,INGENIERIA ECONOMICA Y EVALUACION DE PROYECTOS">PROYECTO DE APLICACION TECNOLOGICA</td>
      <td class="ramo FD" data-nombre="MEJORAMIENTO CONTINUO" data-prerrequisito="(8)">MEJORAMIENTO CONTINUO</td>
      <td class="ramo EE" data-nombre="ELECTIVO II" data-prerrequisito="">ELECTIVO II</td>
      <td class="ramo EE" data-nombre="ELECTIVO III" data-prerrequisito="">ELECTIVO III</td>
    </tr>
  </tbody>
</table>

<script>
  // Al hacer click en ramo, se tacha y cambia color; además controla desbloqueo
  document.querySelectorAll('td.ramo').forEach(td => {
    td.addEventListener('click', () => {
      // Si está bloqueado no hacer nada
      if (td.classList.contains('bloqueado')) return;

      // Toggle tachado
      td.classList.toggle('tachado');

      // Actualizar desbloqueo
      actualizarDesbloqueo();
    });
  });

  function actualizarDesbloqueo() {
    // Obtener todos los ramos
    const ramos = document.querySelectorAll('td.ramo');
    // Crear mapa nombre => elemento
    const mapaRamos = {};
    ramos.forEach(r => {
      mapaRamos[r.dataset.nombre] = r;
    });

    ramos.forEach(ramo => {
      const prerrequisitos = ramo.dataset.prerrequisito;
      if (!prerrequisitos) {
        // Si no tiene prerrequisitos, desbloquear
        ramo.classList.remove('bloqueado');
      } else {
        // Revisar si todos los prerrequisitos están tachados
        const preArr = prerrequisitos.split(',').map(x => x.trim()).filter(x => x.length > 0);
        const todosTachados = preArr.every(pr => mapaRamos[pr] && mapaRamos[pr].classList.contains('tachado'));
        if (todosTachados) {
          ramo.classList.remove('bloqueado');
        } else {
          // Bloquear y quitar tachado si estaba marcado sin prerrequisito cumplido
          ramo.classList.add('bloqueado');
          ramo.classList.remove('tachado');
        }
      }
    });
  }

  // Inicializamos desbloqueo al cargar
  actualizarDesbloqueo();
</script>

</body>
</html>
